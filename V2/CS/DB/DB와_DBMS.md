# DB와 DBMS

### **순서**
1. DB와 DBMS의 개념,특징,비유
2. 파일시스템은 어떤 문제가 있나?
3. DBMS의 데이터 무결성
4. DB의 KEY
5. DBMS의 종류
6. DB 모델링
7. DBMS의 구조

<br><br>

### **DB와 DBMS의 개념,특징,비유**
**DB**  
- **데이터를 통합하고 공유할 목적으로 구축된 데이터들의 집합.**  
- 데이터 파일, 인덱스, 데이터 통계, 데이터 사전을 포함함.  
- 특징
    1. 실시간 접근성 - 실시간 응답처리
    2. 계속적인 변화 - 지속적인 데이터 갱신
    3. 동시공유 - 여러 사람이 동시에 데이터를 접근 및 이용 가능
    4. 내용에 따름 참조 - 값에 따라 참조되어 데이터를 검색함.
    5. 데이터 논리적 독립성 - 응프와 db를 독립시킴으로써 구조를 변경시켜도 응프는 변경되지 않음.
- ex. *도서관의 책장들(책은 데이터)*  

**DBMS**
- **DB를 관리하는 소프트웨어. 응용 프로그램은 DBMS를 통해 DB에 접근하여 관리함.**
- 기능
    1. 정의기능(DDL) - 테이블 생성,수정,삭제(CREATE, ALTER, RENAME, TRUNCATE)
    2. 조작기능(DML) - 데이터 검색,삽입,수정,삭제(SELETE, UPDATE, DELETE)
    3. 제어기능(DCL) - DB의 접근/사용 권한. 보안,무결성 등을 정의할 때 사용(GRANT, REVOKE)
- ex. *도서관의 사서*  

<br><br>

### **파일시스템은 어떤 문제가 있나?**  
1. 데이터 종속 - 특정 사용자에게만 사용되는 제한이 생김.  
2. 데이터 중복 - 앱별로 데이터를 생성 -> 데이터가 여러번 중복 생성(일관성이 떨어짐)
3. 무결성 훼손 - 데이터 수정 시 중복되는 데이터를 모두 바꾸지 못하면 정확한 데이터가 아닐 수 있음.
4. 동시 접근 - 동시 작어비 반영되어 서로 공유해야하는데 이런 기능을 적절히 제공하지 못함.

<br><br>

### **DBMS의 데이터 무결성**  
데이터의 정확성, 일관성, 유효성이 유지되는 것.  
1. 개체 무결성(정확성)
    - 모든 테이블이 기본키로 선택된 필드를 가져야 함.  
2. 참조 무결성(일관성)
    - 참조 관계의 두 테이블이 항상 일관된 값을 가져야 함.
3. 도메인 무결성(일관성)
    - 필드(컬럼)의 타입과 데이터가 올바른가  
4. 무결성 규칙
    - 데이터베이스에서 무결성 지키기 위한 모든 제약사항  

<br><br>

### **DB의 KEY**  
데이터의 무결성을 유지하기 위한 수단.  
**유일성** - 해당 필드로 중복된 값이 나타나지 않는 속성  
**최소성** - 최소한의 필드로 레코드를 유일하게 구별해야하는 속성  

1. 슈퍼키  
    - 필드들의 부분집합. *유일성*을 만족
    - 레코드를 유익하게 구별할 수 있는 식별자
2. 후보키
    - 기본키가 될 수 있는 후보키
    - 유일성과 최소성을 만족
3. 기본키
    - 후보키 중 선택한 고유한 식별자, NULL값 가질 수 없음
    - 후보키 중 값이 단순한 것을 선택
4. 대체키
    - 후보키 중 기본키로 선택된 것들을 제외한 모든 키
5. 복합키
    - 한 개 이상의 필드를 포함하는 키. 여러개의 컬럽을 키로 가짐
6. 외래키
    - 한 테이블의 키 중 다른 테이블의 컬럼을 유일하게 식별할 수 있는 키
    - 다른 테이블의 레코드를 참조하기 위해 이용
    - NULL값이 허용된다.
    - 외래키의 참조 무결성
        - RESTRICTED : 레코드 변경, 삭제 시 해당 레코드를 참조하는 개체가 있다면 작업 취소
        - CASCADE : 변경, 삭제 시 참조하는 개체도 같은 작업
        - SET NULL : 변경, 삭제 시 참조하는 개체의 값을 NULL로 설정
7. 부분키
    - 약한개체의 기본키
        - 약한개체란 독자적으로 존재x, 상위 개체 타입을 가짐 - ex) 직원과 직원의 부양가족
8. 유니크 키(유니크 Index)
    - 테이블 내 항상 유일해야하는 값.
    - 유니크 키로 설정이 되면 **중복이 되는 것을 방지**
    - 여러개 가능
    - NULL을 허용
    - 프라이머리 키는 유니크 키의 성질을 포함함.
    - 유니크 인덱스를 사용하면 좋은점
        - 개발 시점에 제약이 없으므로 개발이 용이 - 모델과 테이블간의 관계가 일치하지 않는다
        - PK/FK를 이용하지 않아 성능이 좋아짐 - 키가 여러개여서 PK가 무엇인지 구분하기 어려움.
        - PK/FK가 존재하지 않아 DBA가 관리하기 쉬움 - 무겨성이 깨질 수 있어 데이터 정리 작업이 필요함
    - **PK의 목적은 데이터 무결성, 유니크인덱스의 목적은 빠른 자료 조회**  

<br><br>

### **DBMS의 종류**  
1. 계층형  
    - 데이터 관계를 트리구조로(부모, 자식) 나타냄.
    - 데이터 중복의 문제
2. 네트워크형
    - 다양한 관계를 그물처럼 갖음.
    - 데이터 중복 문제를 해결, 그러나 복잡한 구조 때문에 구조를 변경할 때 어려움.
3. 관계형
    - 행, 열로 구성된 Table간의 관계를 나타냄.
    - SQL로 데이터 관리 및 접근.
    - 장점
        - 다양한 용도로 사용이 가능
        - 일반적으로 높은 성능
        - 데이터 무결성
4. NoSQL
    - key와 value 형태로 저장.
    - key를 사용해 데이터 관리 및 접근
    - 장점
        - 대용량 데이터
        - 빠른 읽기/쓰기 속도
        - 유연한 데이터 모델링

<br><br>

### **DB 모델링**
1. 요구 수집,분석
2. 설계
    - 개념적 모델링 : Entity 도출, 관계 정의, ERD 작성
    - 논리적 모델링 : 상세 속성 정의, 정규화 등
    - 물리적 모델링 : DB 개체 정의, 테이블 및 인덱스 설계
3. 구현  

<br><br>

### **DBMS의 구조**  
DMBS - 질의 처리기, 저장 시스템으로 나뉨.  
DB - 하드디스크(파일, 인덱스, 통계 등)  

- 고정 길이의 페이지 단위로 디스크를 읽고 씀.
- 저장 공간은 디스크로 일부는 MainMemory에 저장
- 버퍼관리 정책
    - 저장 시스템에 속하는 모듈 - Main Memory에 유지하는 페이지를 관리하는 모듈
    - 일종의 캐시느낌.  
