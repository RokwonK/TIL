---
title: Terraform κΈ°λ³Έ λ…λ Ήμ–΄, νμΌ/λ””λ ‰ν„°λ¦¬
author: κΉ€λ΅μ›
date: 2022.12.31
category: Infrastructure
---

# Terraform - κΈ°λ³Έ λ…λ Ήμ–΄, νμΌ/λ””λ ‰ν„°λ¦¬  

κ°„λ‹¨ν•κ² Terraformμ„ λ°°μ°κ³  ν”„λ΅μ νΈμ— λ°”λ΅ λ„μ…ν•μ€λ‹¤κ°€ ν”„λ΅μ νΈμ λ³µμ΅λ„κ°€ λ†’μ•„μ§€λ©΄μ„ μ λ€λ΅ μµνμ§€ μ•μ•λ λ¶€λ¶„λ“¤μ΄ λ°λ©μ„ μ΅μ•λ‹¤. ν• λ² μ–»μ–΄λ§κ³ λ³΄λ‹ κ°λ…μ •λ¦¬κ°€ ν•„μ”ν•λ‹¤ μ‹¶μ–΄ μ •λ¦¬ν•΄λ³΄μ•λ‹¤.  

<br />  

### κΈ°λ³Έλ…λ Ήμ–΄ - init, plan, apply  
`terraform init` providerκ°€ μ •μλμ–΄ μλ” μ„μΉμ—μ„ ν•΄λ‹Ή λ…λ Ήμ–΄λ¥Ό μ…λ ¥ν•λ‹¤λ©΄ provider, module, stateλ¥Ό μ„¤μ •ν•λ‹¤.(μ‚¬μ©μ¤€λΉ„)  
π‘‰ `.terraform` λ””λ ‰ν„°λ¦¬ μƒμ„±  
π‘‰ `.terraform.lock.hcl` νμΌ μƒμ„±  

`terraform plan` μ΄μ „ stateμ™€ λΉ„κµν•μ—¬ λ³€κ²½λ  λ‚΄μ—­μ„ λ³΄μ—¬μ¤€λ‹¤.  

`terraform apply` ν„μ¬ μ‘μ„±λ μ½”λ“λ¥Ό κΈ°μ¤€μΌλ΅ μΈν”„λΌμ— μ μ©ν•λ‹¤.  
π‘‰ `terraform.tfstate` νμΌ μƒμ„±/μ—…λ°μ΄νΈ
π‘‰ `.terraform` λ””λ ‰ν„°λ¦¬ μ—…λ°μ΄νΈ
π‘‰ `.terraform.lock.hcl` νμΌ μ—…λ°μ΄νΈ

<br /><br />

## Terrform νμΌ/λ””λ ‰ν„°λ¦¬
λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•λ©΄ μ—¬λ¬ νμΌ/λ””λ ‰ν„°λ¦¬κ°€ μƒμ„±, μ—…λ°μ΄νΈκ°€ λλ” κ²ƒμ„ λ³Ό μ μλ‹¤.  
μ΄λ ‡κ² μƒμ„±λ νμΌ/λ””λ ‰ν„°λ¦¬ λ“¤μ€ μ–΄λ–¤ μ—­ν• μ„ ν•λ” κ²ƒμΌκΉ?  

<br />  

### .terraform λ””λ ‰ν„°λ¦¬  
μμ΅΄λλ” νμΌλ“¤μ΄ λ‹¤μ΄λ΅λ“(μ™Έλ¶€, λ΅μ»¬κΉμ§€λ„) λμ–΄ μ €μ¥λλ” κ³µκ°„μ΄λ‹¤.  
λ‚΄λ¶€μ μΌλ΅ .tfstateμ μ •λ³΄ λν• ν¬ν•¨λλ‹¤.  

<br />  

### .terraform.lock.hcl
**μμ΅΄μ„± κ΄€λ ¨ μ κΈνμΌμ΄λ‹¤.** μμ΅΄λλ” νμΌλ“¤μ— λ€ν•΄ λ…μ‹λμ–΄ μλ‹¤.  
κΉƒκ³Ό κ°™μ€ λ²„μ „κ΄€λ¦¬ μ‹μ¤ν…μ— `.terrform λ””λ ‰ν„°λ¦¬`λ¥Ό μ—…λ΅λ“ν•μ§€ μ•κ³  μ΄ νμΌλ§ μ—…λ΅λ“ν•λ‹¤. μ΄ν›„ λ‹¤λ¥Έ PC/μ μ €λ“¤μ€ `init` λ…λ Ήμ–΄λ¥Ό μ΄μ©ν•΄μ„ μ΄ νμΌμ— λ…μ‹λμ–΄ μλ” μμ΅΄ νμΌλ“¤μ„ λ‹¤μ΄λ΅λ“ ν•λ‹¤.  

<br />  

### terraform.tfstate  
Terrformμ μƒνƒνμΌλ΅ `apply`λ¥Ό ν†µν•΄ μ‹¤μ  μΈν”„λΌμ— μ μ©ν• κ²°κ³Όλ¥Ό κΈ°μ–µν•λ” νμΌμ΄λ‹¤.  
λ”°λ΅ μ„¤μ €ν•μ§€ μ•λ”μ΄μƒ λ΅μ»¬μ—μ„ κ΄€λ¦¬λμ§€λ§ μΈν”„λΌλ¥Ό μ„¤κ³„ν•λ” μΈμ›μ΄ λ§μ•„μ§μλ΅ μ΄ νμΌμ„ μ›κ²©μΌλ΅ κ³µμ ν•λ©΄μ„ μ‚¬μ©ν•΄μ•Ό ν•  μ΄μ κ°€ λ…ν™•ν•λ‹¤.(κ° λ΅μ»¬μ—μ„ κ΄€λ¦¬ν• κ²½μ° λ¨λ“  μ΄λ“¤μ tfstateκ°€ λ‹¤λ¥΄λ―€λ΅ μΈν”„λΌκ°€ κΌ¬μΌ ν™•λ¥ μ΄ λ†’μ•„μ§„λ‹¤.)  
λν• μ‹¤μ  μΈν”„λΌμ™€ `.tfstate νμΌ`μ„ μΌμΉμ‹ν‚¤λ” κ²ƒμ΄ μ¤‘μ”ν•λ‹¤. 